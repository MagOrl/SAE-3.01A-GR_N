{% extends "nav_bar.html" %}

{% block content %}
<div class="bloc-entier-admin">
  <div class="boite-bonjour-admin">
    <h1>Détails du Personnel</h1>
  </div>
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="alert-container">
    {% for category, message in messages %}
    <div class="alert alert-{{ 'success' if category == 'success' else category }}" role="alert">
      {{ message }}
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}
  <div class="boite-choix-menu">
    <form method="POST" action="{{ url_for('gerer_personnel_detail', id_pers=personnel.id_pers) }}">
      <p><strong>ID Personnel:</strong> {{ personnel.id_pers }}</p>
      <p>
        <label for="nom_pers"><strong>Nom Personnel:</strong></label>
        <input type="text" id="nom_pers" name="nom_pers" value="{{ personnel.nom_pers }}" required>
      </p>
      <button type="submit" name="action" value="update_name" class="btn-update">Mettre à jour le nom</button>
    </form>
    
    <h3>Habilitations:</h3>
    <ul>
      {% for spec in specialisations %}
      <li>{{ spec.id_hab }} - {{ spec.nom_hab }}</li>
      {% endfor %}
    </ul>
    
    <h3>Campagnes Participées:</h3>
    <ul>
      {% for part in participations %}
      <li>{{ part.id_camp }}</li>
      {% endfor %}
    </ul>
    
    <button class="btn-retour" onclick="window.location.href='/admin/gerer_personnel'">Retour</button>
  </div>
</div>
{% endblock %}